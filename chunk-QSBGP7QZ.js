import{$ as P,A as d,D,E as f,F as g,J as i,K as S,L as p,M as y,Q as b,S as h,V as w,W as k,_ as O,aa as A,ea as N,i as u,ia as T,j as v,p as C,q as o,s as I,t as E,u as x,v as c,w as _,y as n,ya as M,z as t}from"./chunk-GB3UTWXP.js";function V(s,r){if(s&1){let e=D();n(0,"button",7),f("click",function(){u(e);let l=g();return v(l.deleteAllDesigns())}),d(1,"i",8),i(2," Delete All "),t()}}function F(s,r){if(s&1&&d(0,"img",19),s&2){let e=g().$implicit;c("src",e.thumbnail,C)("alt",e.name)}}function B(s,r){s&1&&(n(0,"div",20),i(1,"No preview"),t())}function j(s,r){if(s&1){let e=D();n(0,"tr")(1,"td",9)(2,"div",10),x(3,F,1,2,"img",11)(4,B,2,0,"div",12),t()(),n(5,"td"),i(6),t(),n(7,"td"),i(8),t(),n(9,"td"),i(10),t(),n(11,"td")(12,"div",13),d(13,"span",14)(14,"span",14),t()(),n(15,"td")(16,"small",15),i(17),d(18,"br"),i(19),d(20,"br"),i(21),d(22,"br"),i(23),d(24,"br"),i(25),b(26,"number"),b(27,"number"),t()(),n(28,"td"),i(29),b(30,"date"),t(),n(31,"td")(32,"div",16)(33,"button",17),f("click",function(){let l=u(e).$implicit,m=g();return v(m.editDesign(l))}),d(34,"i",18),i(35," Edit "),t(),n(36,"button",7),f("click",function(){let l=u(e).$implicit,m=g();return v(m.deleteDesign(l))}),d(37,"i",8),i(38," Delete "),t()()()()}if(s&2){let e=r.$implicit;o(3),c("ngIf",e.thumbnail),o(),c("ngIf",!e.thumbnail),o(2),S(e.name),o(2),y("",e.gridSize.rows,"x",e.gridSize.cols,""),o(2),S(e.pattern),o(3),_("background-color",e.primaryColor),c("title","Stroke Color: "+e.primaryColor),o(),_("background-color",e.secondaryColor),c("title","Background Color: "+e.secondaryColor),o(3),p(" Tile Size: ",e.tileSize,"px"),o(2),p(" Stroke Width: ",e.strokeWidth,"px"),o(2),p(" Noise Scale: ",e.noiseScale,""),o(2),p(" Noise Freq: ",e.noiseFrequency,""),o(2),y(" Noise Seed: ",h(26,19,e.noiseOffset.x,"1.2-2"),", ",h(27,22,e.noiseOffset.y,"1.2-2")," "),o(4),S(h(30,25,e.createdAt,"medium"))}}function J(s,r){s&1&&(n(0,"tr")(1,"td",21),i(2," No saved designs yet. Create some patterns in the Generator! "),t()())}var z=class s{constructor(r){this.router=r}savedDesigns=[];ngOnInit(){this.loadSavedDesigns()}loadSavedDesigns(){let r=localStorage.getItem("savedDesigns");if(r)try{this.savedDesigns=JSON.parse(r),this.savedDesigns.sort((e,a)=>{let l=e.createdAt?new Date(e.createdAt).getTime():0;return(a.createdAt?new Date(a.createdAt).getTime():0)-l})}catch(e){console.error("Error loading saved designs:",e),this.savedDesigns=[]}else this.savedDesigns=[]}editDesign(r){this.router.navigate(["/generator"],{state:{design:r},skipLocationChange:!1})}deleteDesign(r){if(confirm("Are you sure you want to delete this design?")){let e=localStorage.getItem("savedDesigns");if(e)try{let a=JSON.parse(e),l=a.findIndex(m=>m.name===r.name&&m.createdAt===r.createdAt&&m.gridSize===r.gridSize);l>-1&&(a.splice(l,1),localStorage.setItem("savedDesigns",JSON.stringify(a)),this.loadSavedDesigns())}catch(a){console.error("Error deleting design:",a)}}}deleteAllDesigns(){if(confirm("Are you sure you want to delete all designs? This action cannot be undone."))try{localStorage.setItem("savedDesigns","[]"),this.loadSavedDesigns()}catch(r){console.error("Error deleting all designs:",r)}}static \u0275fac=function(e){return new(e||s)(I(N))};static \u0275cmp=E({type:s,selectors:[["app-saved-designs"]],decls:28,vars:3,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],[2,"width","120px"],[1,"design-thumbnail"],[3,"src","alt",4,"ngIf"],["class","no-thumbnail",4,"ngIf"],[1,"color-preview"],[1,"color-box",3,"title"],[1,"text-muted"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-pencil"],[3,"src","alt"],[1,"no-thumbnail"],["colspan","8",1,"text-center"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),i(3,"Saved Designs"),t(),x(4,V,3,0,"button",2),t(),n(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),i(10,"Thumbnail"),t(),n(11,"th"),i(12,"Name"),t(),n(13,"th"),i(14,"Grid Size"),t(),n(15,"th"),i(16,"Pattern"),t(),n(17,"th"),i(18,"Colors"),t(),n(19,"th"),i(20,"Settings"),t(),n(21,"th"),i(22,"Created"),t(),n(23,"th"),i(24,"Actions"),t()()(),n(25,"tbody"),x(26,j,39,28,"tr",5)(27,J,3,0,"tr",6),t()()()()),e&2&&(o(4),c("ngIf",a.savedDesigns.length>0),o(22),c("ngForOf",a.savedDesigns),o(),c("ngIf",a.savedDesigns.length===0))},dependencies:[A,w,k,P,O,T,M],styles:[".color-preview[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.color-box[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:4px;border:1px solid #dee2e6;cursor:help}.btn-group[_ngcontent-%COMP%]{gap:4px}small.text-muted[_ngcontent-%COMP%]{font-size:.85em;line-height:1.4;display:block}.design-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;margin-bottom:.5rem;border-radius:4px;overflow:hidden;border:1px solid #dee2e6;display:flex;align-items:center;justify-content:center;background-color:#f8f9fa}.design-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;width:auto;height:auto;object-fit:contain}.no-thumbnail[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#f8f9fa;color:#6c757d;font-size:.8rem;text-align:center}"]})};export{z as SavedDesignsComponent};
